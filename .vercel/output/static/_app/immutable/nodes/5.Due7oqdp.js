import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as $,t as A,g as r,a as z,s as t,b as a,m as l,c as s,r as o,n as B}from"../chunks/PWWI3Ue3.js";import{t as D,e as F,a as U,s as C}from"../chunks/BC15lkC2.js";import{i as G}from"../chunks/BsCQza_p.js";import{r as b}from"../chunks/CjOiFDoo.js";import{b as f}from"../chunks/CO0VHtSE.js";import{p as H}from"../chunks/CWmzcjye.js";import{i as K}from"../chunks/BEc5jUYy.js";import{g as M}from"../chunks/C5OadaZi.js";var Q=D('<div class="mb-4 rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700"> </div>'),R=D('<div class="flex min-h-screen items-center justify-center bg-white"><div class="w-full max-w-md rounded-md border border-gray-300 p-8"><h1 class="mb-6 text-center text-2xl font-bold">Sign Up</h1> <!> <form><div class="mb-4"><label for="username" class="mb-1 block text-sm font-medium text-gray-700">Username</label> <input id="username" type="text" class="w-full rounded-md border border-gray-300 px-3 py-2" required></div> <div class="mb-4"><label for="email" class="mb-1 block text-sm font-medium text-gray-700">Email</label> <input id="email" type="email" class="w-full rounded-md border border-gray-300 px-3 py-2" required></div> <div class="mb-4"><label for="password" class="mb-1 block text-sm font-medium text-gray-700">Password</label> <input id="password" type="password" class="w-full rounded-md border border-gray-300 px-3 py-2" required></div> <div class="mb-6"><label for="confirmPassword" class="mb-1 block text-sm font-medium text-gray-700">Confirm Password</label> <input id="confirmPassword" type="password" class="w-full rounded-md border border-gray-300 px-3 py-2" required></div> <button type="submit" class="w-full rounded-md bg-black py-2 text-white hover:bg-gray-800 disabled:opacity-50"> </button></form> <div class="mt-4 text-center"><p class="text-sm text-gray-600">Already have an account? <a href="/auth/login" class="text-black underline">Log In</a></p></div></div></div>');function oe(O,T){$(T,!1);let m=l(""),p=l(""),n=l(""),u=l(""),c=l(!1),i=l("");async function I(){if(a(i,""),!r(m)||!r(p)||!r(n)||!r(u)){a(i,"All fields are required");return}if(r(n)!==r(u)){a(i,"Passwords do not match");return}a(c,!0);try{const e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r(m),email:r(p),password:r(n)})}),d=await e.json();if(!e.ok)throw e.status===503?new Error(`Service unavailable: ${d.error||"Database connection failed"}`):new Error(d.message||"Something went wrong");M("/")}catch(e){e instanceof Error?a(i,e.message):a(i,"An unknown error occurred")}finally{a(c,!1)}}K();var v=R(),k=s(v),P=t(s(k),2);{var J=e=>{var d=Q(),N=s(d,!0);o(d),A(()=>C(N,r(i))),U(e,d)};G(P,e=>{r(i)&&e(J)})}var g=t(P,2),y=s(g),S=t(s(y),2);b(S),o(y);var w=t(y,2),q=t(s(w),2);b(q),o(w);var x=t(w,2),E=t(s(x),2);b(E),o(x);var h=t(x,2),j=t(s(h),2);b(j),o(h);var _=t(h,2),L=s(_,!0);o(_),o(g),B(2),o(k),o(v),A(()=>{_.disabled=r(c),C(L,r(c)?"Processing...":"Sign Up")}),f(S,()=>r(m),e=>a(m,e)),f(q,()=>r(p),e=>a(p,e)),f(E,()=>r(n),e=>a(n,e)),f(j,()=>r(u),e=>a(u,e)),F("submit",g,H(I)),U(O,v),z()}export{oe as component};
