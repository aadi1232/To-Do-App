import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as R,c as s,r as o,s as m,t as j,d as C,a as S,$ as q,b as z,m as B,g as F}from"../chunks/PWWI3Ue3.js";import{t as u,s as A,e as I,a as p,h as E}from"../chunks/BC15lkC2.js";import{i as M}from"../chunks/BsCQza_p.js";import{e as G}from"../chunks/FrGZEVpv.js";import{i as U}from"../chunks/BEc5jUYy.js";import{a as H,s as L}from"../chunks/6avubi_o.js";import{o as J}from"../chunks/D93VaLay.js";import{m as K,n as O,f as P,l as Q,a as V}from"../chunks/DXySWGYQ.js";import{s as W}from"../chunks/DBYvBCBS.js";import{p as X}from"../chunks/LNgpw9vD.js";var Z=u('<div class="ml-2 self-center"><div class="h-2 w-2 rounded-full bg-black"></div></div>'),tt=u('<div role="menuitem"><div class="mr-3 text-lg"> </div> <div class="flex-1 overflow-hidden"><div class="text-sm font-medium text-gray-900"> </div> <p class="mt-1 truncate text-sm text-gray-600"> </p> <div class="mt-1 text-xs text-gray-500"> </div></div> <!></div>');function et($,y){R(y,!1);let e=X(y,"notification",8);function D(i){try{const t=new Date(i),r=new Date;return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.getFullYear()===r.getFullYear()?t.toLocaleDateString([],{month:"short",day:"numeric"}):t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})}catch{return i}}function c(i){switch(i){case"todo:added":return"➕";case"todo:deleted":return"🗑️";case"todo:completed":return"✅";case"group:invite":return"✉️";case"group:join":return"👥";default:return"🔔"}}function N(){e().read||K(e()._id)}U();var n=tt();let _;var d=s(n),b=s(d,!0);o(d);var l=m(d,2),v=s(l),x=s(v);o(v);var g=m(v,2),T=s(g,!0);o(g);var w=m(g,2),a=s(w,!0);o(w),o(l);var h=m(l,2);{var Y=i=>{var t=Z();p(i,t)};M(h,i=>{e().read||i(Y)})}o(n),j((i,t,r,f,k)=>{_=W(n,1,"flex cursor-pointer border-b border-gray-100 p-3 hover:bg-gray-50",null,_,i),A(b,t),A(x,`${r??""}
			${f??""}`),A(T,e().message),A(a,k)},[()=>({"opacity-70":e().read}),()=>c(e().type),()=>e().type.split(":")[0].charAt(0).toUpperCase()+e().type.split(":")[0].slice(1),()=>e().type.split(":")[1].charAt(0).toUpperCase()+e().type.split(":")[1].slice(1),()=>D(e().createdAt||e().timestamp)],C),I("click",n,N),p($,n),S()}var at=u('<div class="flex justify-center py-20"><div class="h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-black"></div></div>'),it=u(`<div class="py-16 text-center"><p class="text-gray-500">You don't have any notifications yet.</p></div>`),rt=u("<div></div>"),ot=u('<div class="min-h-screen bg-gray-50 py-8"><div class="container mx-auto max-w-3xl"><div class="mb-6 flex items-center justify-between"><h1 class="text-2xl font-bold">Notifications</h1> <button class="rounded bg-black px-4 py-2 text-white hover:bg-gray-800 disabled:opacity-50">Mark All as Read</button></div> <div class="rounded-lg bg-white shadow"><!></div></div></div>');function yt($,y){R(y,!1);const[e,D]=H(),c=()=>L(O,"$notifications",e),N=()=>L(Q,"$loadingNotifications",e);let n=B(!0);J(async()=>{await P(),z(n,!1)});function _(){V()}U();var d=ot();E(a=>{q.title="Notifications | To-Do App"});var b=s(d),l=s(b),v=m(s(l),2);o(l);var x=m(l,2),g=s(x);{var T=a=>{var h=at();p(a,h)},w=(a,h)=>{{var Y=t=>{var r=it();p(t,r)},i=t=>{var r=rt();G(r,5,c,f=>f._id,(f,k)=>{et(f,{get notification(){return F(k)}})}),o(r),p(t,r)};M(a,t=>{c().length===0?t(Y):t(i,!1)},h)}};M(g,a=>{F(n)||N()?a(T):a(w,!1)})}o(x),o(b),o(d),j(a=>v.disabled=a,[()=>c().length===0||c().every(a=>a.read)],C),I("click",v,_),p($,d),S(),D()}export{yt as component};
